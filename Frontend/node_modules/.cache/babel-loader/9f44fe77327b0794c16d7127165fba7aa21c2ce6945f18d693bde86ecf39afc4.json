{"ast":null,"code":"var _jsxFileName = \"C:\\\\7mo Semestre\\\\Proyecto de Grado\\\\Web_App\\\\Frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button, Spinner, Alert } from 'react-bootstrap';\nimport FileUpload from './components/FileUpload';\nimport ColumnSelector from './components/ColumnSelector';\nimport ResultsDisplay from './components/ResultsDisplay';\nimport { analyzeData } from './services/api'; // analyzeData espera nombres LIMPIOS\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null); // { filename, filepath }\n  const [availableOriginalColumns, setAvailableOriginalColumns] = useState([]);\n  const [selectedOriginalColumns, setSelectedOriginalColumns] = useState([]);\n  const [columnMapping, setColumnMapping] = useState({}); // { original_name: cleaned_name }\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!uploadedFile) {\n      setAvailableOriginalColumns([]);\n      setSelectedOriginalColumns([]);\n      setColumnMapping({});\n      setAnalysisResults(null);\n      setError(null); // Limpiar errores al deseleccionar archivo\n      setIsAnalyzing(false);\n    }\n  }, [uploadedFile]);\n  const handleFileUploadSuccess = uploadData => {\n    console.log(\"App.js: handleFileUploadSuccess received:\", uploadData);\n    if (uploadData && uploadData.filepath && uploadData.original_columns && uploadData.column_mapping) {\n      setUploadedFile({\n        filename: uploadData.filename,\n        filepath: uploadData.filepath\n      });\n      setAvailableOriginalColumns(uploadData.original_columns);\n      setColumnMapping(uploadData.column_mapping);\n      setSelectedOriginalColumns([]); // Resetear selección\n      setAnalysisResults(null); // Resetear resultados\n      setError(null); // Limpiar errores previos\n    } else {\n      console.error(\"App.js: Incomplete data received from upload service:\", uploadData);\n      setError(\"Failed to process file information from server. Key data missing in response.\");\n      setUploadedFile(null);\n    }\n    setIsAnalyzing(false); // Asegurar que no se quede analizando\n  };\n  const handleColumnSelectionChange = newSelectedOriginalNames => {\n    setSelectedOriginalColumns(newSelectedOriginalNames);\n    setAnalysisResults(null);\n    setError(null);\n  };\n  const handleStartAnalysis = async () => {\n    if (!uploadedFile || !uploadedFile.filepath) {\n      setError(\"File information is missing. Please re-upload the file.\");\n      return;\n    }\n    if (selectedOriginalColumns.length === 0) {\n      setError(\"Please select at least one column from the list to analyze.\");\n      return;\n    }\n\n    // --- TRADUCCIÓN CRUCIAL DE NOMBRES DE COLUMNA ---\n    let allColumnsMapped = true;\n    const cleanedSelectedColumns = selectedOriginalColumns.map(originalName => {\n      const cleanedName = columnMapping[originalName];\n      if (cleanedName === undefined || cleanedName === null) {\n        // Si la clave original no existe en el mapeo, o el valor es null/undefined\n        console.warn(`App.js: No mapping found for original column name: '${originalName}'. This column will be SKIPPED.`);\n        setError(prevError => (prevError ? prevError + \" \" : \"\") + `Warning: Column '${originalName}' could not be mapped to a clean name and was skipped. Check for unusual characters or file structure issues.`);\n        allColumnsMapped = false;\n        return null; // Marcar para filtrar\n      }\n      return cleanedName;\n    }).filter(Boolean); // filter(Boolean) para quitar los nulos\n\n    if (cleanedSelectedColumns.length === 0 && selectedOriginalColumns.length > 0) {\n      // Esto ocurre si NINGUNA de las columnas seleccionadas pudo ser mapeada\n      setError(\"Critical Error: None of the selected columns could be mapped to cleaned names for analysis. This might indicate a problem with the uploaded file's column names or the mapping process. Please try re-uploading or check the file.\");\n      setIsAnalyzing(false);\n      return;\n    }\n    // --------------------------------------------------\n\n    console.log(\"App.js: Starting analysis with filepath:\", uploadedFile.filepath, \"and CLEANED selected columns for API:\", cleanedSelectedColumns);\n    setIsAnalyzing(true);\n    if (!allColumnsMapped) {/* No limpiar el error de mapeo si ocurrió */} else {\n      setError(null);\n    }\n    setAnalysisResults(null);\n    try {\n      // Enviar NOMBRES LIMPIOS y el nombre de la columna de verdad (ej. \"fraud\")\n      // El tercer parámetro es 'truth_column_name', asegúrate que tu servicio api.js lo maneje\n      const data = await analyzeData(uploadedFile.filepath, cleanedSelectedColumns, \"fraud\");\n      console.log(\"App.js: Analysis data received:\", data);\n      setAnalysisResults(data);\n      if (!allColumnsMapped) {\n        // Si hubo warnings de mapeo pero el análisis corrió\n        setError(prevError => (prevError ? prevError + \" \" : \"\") + \"Analysis completed, but some columns may have been skipped due to mapping issues.\");\n      } else {\n        setError(null); // Limpiar error si el análisis fue exitoso y todas las columnas mapearon\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMsg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message || \"Analysis failed on the server.\";\n      console.error(\"App.js: Analysis error caught:\", err);\n      setError(errorMsg);\n      setAnalysisResults(null);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Anomaly Detection System\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Upload financial data, select relevant columns, and run analysis.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            variant: error.toLowerCase().includes(\"warning\") ? \"warning\" : \"danger\",\n            onClose: () => setError(null),\n            dismissible: true,\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          lg: 4,\n          className: \"mb-3 mb-md-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"upload-card h-100\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"d-flex flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge bg-secondary me-1\",\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 29\n                }, this), \" Upload Data\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n                onUploadSuccess: handleFileUploadSuccess,\n                setError: setError // Permitir que FileUpload reporte errores de subida\n                ,\n                clearUploadedFile: () => setUploadedFile(null) // Para resetear desde FileUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 7,\n          lg: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis-card h-100\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"d-flex flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge bg-secondary me-1\",\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 29\n                }, this), \" Select Columns & Analyze\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this), uploadedFile && availableOriginalColumns.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"column-selector-wrapper mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(ColumnSelector, {\n                    columns: availableOriginalColumns // Pasa nombres ORIGINALES\n                    ,\n                    selectedColumns: selectedOriginalColumns // Trabaja con nombres ORIGINALES\n                    ,\n                    onChange: handleColumnSelectionChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    onClick: handleStartAnalysis,\n                    disabled: isAnalyzing || selectedOriginalColumns.length === 0 || !uploadedFile,\n                    className: \"analyze-btn w-100\",\n                    children: isAnalyzing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(Spinner, {\n                        animation: \"border\",\n                        size: \"sm\",\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 32\n                      }, this), \" Analyzing... \"]\n                    }, void 0, true) : `Analyze ${selectedOriginalColumns.length} Selected Column(s)`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-muted d-flex align-items-center justify-content-center h-100\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: uploadedFile ? \"No columns found or file processing error. Please re-upload.\" : \"Upload a file to select columns.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), isAnalyzing && /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Analyzing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-primary\",\n            children: \"Analyzing data, this may take a moment...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }, this), !isAnalyzing && analysisResults && /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(ResultsDisplay, {\n            data: analysisResults\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"kgaZu6ocpYu7H51QRPxjoncdDvc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Spinner","Alert","FileUpload","ColumnSelector","ResultsDisplay","analyzeData","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","uploadedFile","setUploadedFile","availableOriginalColumns","setAvailableOriginalColumns","selectedOriginalColumns","setSelectedOriginalColumns","columnMapping","setColumnMapping","analysisResults","setAnalysisResults","isAnalyzing","setIsAnalyzing","error","setError","handleFileUploadSuccess","uploadData","console","log","filepath","original_columns","column_mapping","filename","handleColumnSelectionChange","newSelectedOriginalNames","handleStartAnalysis","length","allColumnsMapped","cleanedSelectedColumns","map","originalName","cleanedName","undefined","warn","prevError","filter","Boolean","data","err","_err$response","_err$response$data","errorMsg","response","message","className","children","fluid","fileName","_jsxFileName","lineNumber","columnNumber","variant","toLowerCase","includes","onClose","dismissible","md","lg","Body","Title","onUploadSuccess","clearUploadedFile","columns","selectedColumns","onChange","onClick","disabled","animation","size","role","_c","$RefreshReg$"],"sources":["C:/7mo Semestre/Proyecto de Grado/Web_App/Frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport FileUpload from './components/FileUpload';\r\nimport ColumnSelector from './components/ColumnSelector';\r\nimport ResultsDisplay from './components/ResultsDisplay';\r\nimport { analyzeData } from './services/api'; // analyzeData espera nombres LIMPIOS\r\nimport './styles/App.css';\r\n\r\nfunction App() {\r\n  const [uploadedFile, setUploadedFile] = useState(null); // { filename, filepath }\r\n  const [availableOriginalColumns, setAvailableOriginalColumns] = useState([]);\r\n  const [selectedOriginalColumns, setSelectedOriginalColumns] = useState([]);\r\n  const [columnMapping, setColumnMapping] = useState({}); // { original_name: cleaned_name }\r\n  const [analysisResults, setAnalysisResults] = useState(null);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n      if (!uploadedFile) {\r\n          setAvailableOriginalColumns([]);\r\n          setSelectedOriginalColumns([]);\r\n          setColumnMapping({});\r\n          setAnalysisResults(null);\r\n          setError(null); // Limpiar errores al deseleccionar archivo\r\n          setIsAnalyzing(false);\r\n      }\r\n  }, [uploadedFile]);\r\n\r\n  const handleFileUploadSuccess = (uploadData) => {\r\n    console.log(\"App.js: handleFileUploadSuccess received:\", uploadData);\r\n    if (uploadData && uploadData.filepath && uploadData.original_columns && uploadData.column_mapping) {\r\n        setUploadedFile({\r\n          filename: uploadData.filename,\r\n          filepath: uploadData.filepath\r\n        });\r\n        setAvailableOriginalColumns(uploadData.original_columns);\r\n        setColumnMapping(uploadData.column_mapping);\r\n        \r\n        setSelectedOriginalColumns([]); // Resetear selección\r\n        setAnalysisResults(null);     // Resetear resultados\r\n        setError(null);               // Limpiar errores previos\r\n    } else {\r\n        console.error(\"App.js: Incomplete data received from upload service:\", uploadData);\r\n        setError(\"Failed to process file information from server. Key data missing in response.\");\r\n        setUploadedFile(null); \r\n    }\r\n    setIsAnalyzing(false); // Asegurar que no se quede analizando\r\n  };\r\n\r\n  const handleColumnSelectionChange = (newSelectedOriginalNames) => {\r\n    setSelectedOriginalColumns(newSelectedOriginalNames);\r\n    setAnalysisResults(null); \r\n    setError(null); \r\n  };\r\n\r\n  const handleStartAnalysis = async () => {\r\n    if (!uploadedFile || !uploadedFile.filepath) {\r\n      setError(\"File information is missing. Please re-upload the file.\");\r\n      return;\r\n    }\r\n    if (selectedOriginalColumns.length === 0) {\r\n      setError(\"Please select at least one column from the list to analyze.\");\r\n      return;\r\n    }\r\n\r\n    // --- TRADUCCIÓN CRUCIAL DE NOMBRES DE COLUMNA ---\r\n    let allColumnsMapped = true;\r\n    const cleanedSelectedColumns = selectedOriginalColumns.map(originalName => {\r\n        const cleanedName = columnMapping[originalName];\r\n        if (cleanedName === undefined || cleanedName === null) { \r\n            // Si la clave original no existe en el mapeo, o el valor es null/undefined\r\n            console.warn(`App.js: No mapping found for original column name: '${originalName}'. This column will be SKIPPED.`);\r\n            setError(prevError => \r\n                (prevError ? prevError + \" \" : \"\") + \r\n                `Warning: Column '${originalName}' could not be mapped to a clean name and was skipped. Check for unusual characters or file structure issues.`\r\n            );\r\n            allColumnsMapped = false;\r\n            return null; // Marcar para filtrar\r\n        }\r\n        return cleanedName;\r\n    }).filter(Boolean); // filter(Boolean) para quitar los nulos\r\n\r\n    if (cleanedSelectedColumns.length === 0 && selectedOriginalColumns.length > 0) {\r\n        // Esto ocurre si NINGUNA de las columnas seleccionadas pudo ser mapeada\r\n        setError(\"Critical Error: None of the selected columns could be mapped to cleaned names for analysis. This might indicate a problem with the uploaded file's column names or the mapping process. Please try re-uploading or check the file.\");\r\n        setIsAnalyzing(false);\r\n        return;\r\n    }\r\n    // --------------------------------------------------\r\n\r\n    console.log(\"App.js: Starting analysis with filepath:\", uploadedFile.filepath, \r\n                \"and CLEANED selected columns for API:\", cleanedSelectedColumns);\r\n    \r\n    setIsAnalyzing(true);\r\n    if(!allColumnsMapped) { /* No limpiar el error de mapeo si ocurrió */ } else { setError(null); }\r\n    setAnalysisResults(null);\r\n\r\n    try {\r\n      // Enviar NOMBRES LIMPIOS y el nombre de la columna de verdad (ej. \"fraud\")\r\n      // El tercer parámetro es 'truth_column_name', asegúrate que tu servicio api.js lo maneje\r\n      const data = await analyzeData(uploadedFile.filepath, cleanedSelectedColumns, \"fraud\"); \r\n      console.log(\"App.js: Analysis data received:\", data);\r\n      setAnalysisResults(data);\r\n      if (!allColumnsMapped) { // Si hubo warnings de mapeo pero el análisis corrió\r\n        setError(prevError => \r\n            (prevError ? prevError + \" \" : \"\") + \r\n            \"Analysis completed, but some columns may have been skipped due to mapping issues.\"\r\n        );\r\n      } else {\r\n        setError(null); // Limpiar error si el análisis fue exitoso y todas las columnas mapearon\r\n      }\r\n    } catch (err) {\r\n       const errorMsg = err.response?.data?.error || err.message || \"Analysis failed on the server.\";\r\n       console.error(\"App.js: Analysis error caught:\", err);\r\n       setError(errorMsg);\r\n       setAnalysisResults(null);\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Container fluid=\"lg\">\r\n        <Row className=\"header\">\r\n          <Col>\r\n            <h1>Anomaly Detection System</h1>\r\n            <p>Upload financial data, select relevant columns, and run analysis.</p>\r\n          </Col>\r\n        </Row>\r\n\r\n        {error && (\r\n            <Row className=\"mb-3\">\r\n                <Col><Alert variant={error.toLowerCase().includes(\"warning\") ? \"warning\" : \"danger\"} onClose={() => setError(null)} dismissible>{error}</Alert></Col>\r\n            </Row>\r\n        )}\r\n\r\n        <Row className=\"mt-2\">\r\n          <Col md={5} lg={4} className=\"mb-3 mb-md-0\">\r\n            <Card className=\"upload-card h-100\">\r\n              <Card.Body className=\"d-flex flex-column\">\r\n                <Card.Title><span className=\"badge bg-secondary me-1\">1</span> Upload Data</Card.Title>\r\n                <FileUpload\r\n                  onUploadSuccess={handleFileUploadSuccess}\r\n                  setError={setError} // Permitir que FileUpload reporte errores de subida\r\n                  clearUploadedFile={() => setUploadedFile(null)} // Para resetear desde FileUpload\r\n                />\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col md={7} lg={8}>\r\n            <Card className=\"analysis-card h-100\">\r\n              <Card.Body className=\"d-flex flex-column\">\r\n                <Card.Title><span className=\"badge bg-secondary me-1\">2</span> Select Columns & Analyze</Card.Title>\r\n                {uploadedFile && availableOriginalColumns.length > 0 ? (\r\n                  <>\r\n                    <div className=\"column-selector-wrapper mb-3\">\r\n                      <ColumnSelector\r\n                        columns={availableOriginalColumns} // Pasa nombres ORIGINALES\r\n                        selectedColumns={selectedOriginalColumns} // Trabaja con nombres ORIGINALES\r\n                        onChange={handleColumnSelectionChange}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mt-auto\">\r\n                       <Button\r\n                          variant=\"success\"\r\n                          onClick={handleStartAnalysis}\r\n                          disabled={isAnalyzing || selectedOriginalColumns.length === 0 || !uploadedFile}\r\n                          className=\"analyze-btn w-100\"\r\n                       >\r\n                          {isAnalyzing ? (\r\n                            <> <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" /> Analyzing... </>\r\n                          ) : (\r\n                            `Analyze ${selectedOriginalColumns.length} Selected Column(s)`\r\n                          )}\r\n                       </Button>\r\n                     </div>\r\n                  </>\r\n                ) : (\r\n                   <div className=\"text-center text-muted d-flex align-items-center justify-content-center h-100\">\r\n                       <p>{uploadedFile ? \"No columns found or file processing error. Please re-upload.\" : \"Upload a file to select columns.\"}</p>\r\n                   </div>\r\n                )}\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n         {isAnalyzing && (\r\n              <Row className=\"mt-4 text-center\">\r\n                   <Col>\r\n                        <Spinner animation=\"border\" variant=\"primary\" role=\"status\">\r\n                           <span className=\"visually-hidden\">Analyzing...</span>\r\n                        </Spinner>\r\n                        <p className=\"mt-2 text-primary\">Analyzing data, this may take a moment...</p>\r\n                   </Col>\r\n              </Row>\r\n         )}\r\n\r\n        {!isAnalyzing && analysisResults && (\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <ResultsDisplay data={analysisResults} />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}